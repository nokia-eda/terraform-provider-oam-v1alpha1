---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "oam-v1alpha1_mirror Data Source - oam-v1alpha1"
subcategory: ""
description: |-
  
---

# oam-v1alpha1_mirror (Data Source)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) name of the Mirror
- `namespace` (String) the namespace scope in which to operate

### Optional

- `hash` (String) resource content will be returned as it was at the time of this git hash
- `spec` (Attributes) Mirror allows for the configuration of mirroring sources, including interfaces, subinterfaces, and filters, as well as the destination for the mirrored traffic, which can be either local or remote. (see [below for nested schema](#nestedatt--spec))

### Read-Only

- `api_version` (String)
- `kind` (String)
- `metadata` (Attributes) (see [below for nested schema](#nestedatt--metadata))
- `status` (Attributes) MirrorStatus defines the observed state of Mirror (see [below for nested schema](#nestedatt--status))

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `local_destination` (Attributes) Local destination for the mirror, there can only be either a remote destination or local destination provisioned for a Mirror. (see [below for nested schema](#nestedatt--spec--local_destination))
- `remote_destination` (Attributes) Remote destination for the mirror, there can only be either a remote destination or local destination provisioned for a Mirror. (see [below for nested schema](#nestedatt--spec--remote_destination))
- `sources` (Attributes) Mirror sources. (see [below for nested schema](#nestedatt--spec--sources))

<a id="nestedatt--spec--local_destination"></a>
### Nested Schema for `spec.local_destination`

Optional:

- `interface` (String) Reference to an Interface resource to send the mirrored traffic to.  This must be on the same Node as the source.
- `vlan_id` (String) Single value between 0-4094 support, or the special keyword untagged.


<a id="nestedatt--spec--remote_destination"></a>
### Nested Schema for `spec.remote_destination`

Optional:

- `default_router` (String) Specifies the DefaultRouter to reach the remote destination of the mirror, a Router and DefaultRouter reference cannot be set at the same time.
- `destination_ip` (String) Remote destination IP address.  When a remote destination is used for the mirror, the destinationIP is mandatory.
- `encapsulation` (String)
- `router` (String) Specifies the Router to reach the remote destination of the mirror, a Router and DefaultRouter reference cannot be set at the same time.
- `source_ip` (String) Source IP to use when sending a mirror to a remote destination.  When a remote destination us used for the mirror, the sourceIP is mandatory.


<a id="nestedatt--spec--sources"></a>
### Nested Schema for `spec.sources`

Optional:

- `direction` (String) The direction of the traffic being mirrored.
- `filters` (Attributes List) (see [below for nested schema](#nestedatt--spec--sources--filters))
- `interfaces` (Attributes) Reference to an Interface resource to be mirrored.  Traffic from the entire Interface will be mirrored for any selected Interfaces. (see [below for nested schema](#nestedatt--spec--sources--interfaces))
- `subinterfaces` (Attributes) (see [below for nested schema](#nestedatt--spec--sources--subinterfaces))

<a id="nestedatt--spec--sources--filters"></a>
### Nested Schema for `spec.sources.filters`

Optional:

- `filter` (Attributes) Emittes an MirrorFilter and uses the filter as a source for the Mirror. (see [below for nested schema](#nestedatt--spec--sources--filters--filter))
- `subinterfaces` (Attributes) Subinterfaces on which to deploy the IPFilter to use as a source for the Mirror. (see [below for nested schema](#nestedatt--spec--sources--filters--subinterfaces))

<a id="nestedatt--spec--sources--filters--filter"></a>
### Nested Schema for `spec.sources.filters.filter`

Optional:

- `entries` (Attributes List) Specifies the list of filter entries, in order. (see [below for nested schema](#nestedatt--spec--sources--filters--filter--entries))
- `statistics_per_entry` (Boolean) Enable or disable per-entry counters.

<a id="nestedatt--spec--sources--filters--filter--entries"></a>
### Nested Schema for `spec.sources.filters.filter.entries`

Optional:

- `description` (String) Description of the FilterEntry.
- `ip_entry` (Attributes) (see [below for nested schema](#nestedatt--spec--sources--filters--filter--entries--ip_entry))
- `type` (String) Type of the entry which can be IPV4, IPV6 or Auto.

<a id="nestedatt--spec--sources--filters--filter--entries--ip_entry"></a>
### Nested Schema for `spec.sources.filters.filter.entries.ip_entry`

Optional:

- `action` (String) An action to take, either 'Accept','Drop', or 'RateLimit'.
- `destination_port_name` (String) Destination port to match by name.
- `destination_port_number` (Number) Destination port to match by numerical value.
- `destination_port_operator` (String) Operator to use when matching destinationPort, either Equals, GreaterOrEquals, or LessOrEquals.
- `destination_port_range` (String) Range of destination ports to match, in the format n-m, e.g. 100-200,  The start and end of the range must be port numbers.
- `destination_prefix` (String) Destination prefix to match.
- `first_fragment` (Boolean) Match the first fragment only.
- `fragment` (Boolean) Match any fragment.
- `icmp_code` (List of Number) Match a specific ICMP code, as a number between 0-255, e.g. 0.
- `icmp_type_name` (String) Match a specific ICMP type by name, e.g. dest-unreachable.
- `icmp_type_number` (Number) Match a specific ICMP type by number.
- `log` (Boolean) Log the matches for this entry.
- `protocol_name` (String) Match a specific IP protocol name (specified in the type field of the IP header).
- `protocol_number` (Number) Match a specific IP protocol number (specified in the type field of the IP header).
- `rate_limit` (Attributes) Rate limit to apply when the action is 'RateLimit'. (see [below for nested schema](#nestedatt--spec--sources--filters--filter--entries--ip_entry--rate_limit))
- `source_port_name` (String) Source port to match by name.
- `source_port_number` (Number) Source port to match by numerical value.
- `source_port_operator` (String) Operator to use when matching sourcePort, either Equals, GreaterOrEquals, or LessOrEquals.
- `source_port_range` (String) Range of source ports to match, in the format n-m, e.g. 100-200.  The start and end of the range must be port numbers.
- `source_prefix` (String) Source prefix to match.
- `tcp_flags` (String) Match TCP flags, usable with !, &, | and the flags RST, SYN, and ACK.

<a id="nestedatt--spec--sources--filters--filter--entries--ip_entry--rate_limit"></a>
### Nested Schema for `spec.sources.filters.filter.entries.ip_entry.rate_limit`

Optional:

- `burst_size` (Number) The maximum burst size in bytes.
- `entry_specific_policer` (Boolean) Controls policer instantiation: false for shared instance, true for per-entry instances
- `peak_rate` (Number) The peak rate in kilobytes per second.
- `scope` (String) Determines how the policer is applied across subinterfaces. Global applies the policer across all subinterfaces, while Subinterface applies it individually to each subinterface.





<a id="nestedatt--spec--sources--filters--subinterfaces"></a>
### Nested Schema for `spec.sources.filters.subinterfaces`

Optional:

- `bridge_interfaces` (List of String) List of BridgeInterfaces, all traffic from all BridgeInterfaces in the list will be used as sources to be mirrored. A combination of VLANs, BridgeInterfaces and subinterfaces can be configured as sources together.
- `subinterfaces` (Attributes List) List of Interfaces and subinterface indices (see [below for nested schema](#nestedatt--spec--sources--filters--subinterfaces--subinterfaces))
- `vlans` (List of String) List of VLAN resources, all subinterfaces attached to the VLAN will be used as sources to be mirrored.  A combination of VLANs, BridgeInterfaces and subinterfaces can be configured as sources together.

<a id="nestedatt--spec--sources--filters--subinterfaces--subinterfaces"></a>
### Nested Schema for `spec.sources.filters.subinterfaces.subinterfaces`

Optional:

- `index` (Number) Index of the sub-interface. This is ignored on a node running SROS.
- `interface_name` (String) Reference to an Interface resource, the combination of the Interface and the specified subinterface index will build the subinterface to be used as a source of traffic to be mirrored. A combination of VLANs, BridgeInterfaces and subinterfaces can be configured as sources together.
- `vlan` (String) Reference to the VLAN resource under which the sub-interface is configured. This is mandatory when the sub-interface is on a node running SROS and ignored for all other node operating systems.




<a id="nestedatt--spec--sources--interfaces"></a>
### Nested Schema for `spec.sources.interfaces`

Optional:

- `interface_selector` (List of String) Select Interfaces using a label selector to be mirrored.  Traffic from the entire Interface will be mirrored for any selected Interfaces.  If both a label selector is used and a list of Interfaces is provided, a combination of all selected and provided interfaces will be mirrored.
- `interfaces` (List of String) List of Interfaces to be mirrored.  Traffic from the entire Interface will be mirrored for any selected Interfaces.  If both a label selector is used and a list of Interfaces is provided, a combination of all selected and provided interfaces will be mirrored.


<a id="nestedatt--spec--sources--subinterfaces"></a>
### Nested Schema for `spec.sources.subinterfaces`

Optional:

- `bridge_interfaces` (List of String) List of BridgeInterfaces, all traffic from all BridgeInterfaces in the list will be used as sources to be mirrored. A combination of VLANs, BridgeInterfaces and subinterfaces can be configured as sources together.
- `subinterfaces` (Attributes List) List of Interfaces and subinterface indices (see [below for nested schema](#nestedatt--spec--sources--subinterfaces--subinterfaces))
- `vlans` (List of String) List of VLAN resources, all subinterfaces attached to the VLAN will be used as sources to be mirrored.  A combination of VLANs, BridgeInterfaces and subinterfaces can be configured as sources together.

<a id="nestedatt--spec--sources--subinterfaces--subinterfaces"></a>
### Nested Schema for `spec.sources.subinterfaces.subinterfaces`

Optional:

- `index` (Number) Index of the sub-interface. This is ignored on a node running SROS.
- `interface_name` (String) Reference to an Interface resource, the combination of the Interface and the specified subinterface index will build the subinterface to be used as a source of traffic to be mirrored. A combination of VLANs, BridgeInterfaces and subinterfaces can be configured as sources together.
- `vlan` (String) Reference to the VLAN resource under which the sub-interface is configured. This is mandatory when the sub-interface is on a node running SROS and ignored for all other node operating systems.





<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Read-Only:

- `annotations` (Map of String)
- `labels` (Map of String)
- `name` (String)
- `namespace` (String)


<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `last_change` (String) Indicates when this SubInterface last changed state.
- `mirror_id` (String) Mirror Identifier used as the name of the mirror.
- `num_active_interfaces` (Number) Total number of active Interfaces used as sources of the mirror.
- `num_active_subinterfaces` (Number) Total number of active subinterfaces used as sources of the mirror.
- `num_active_v4_filter_subinterfaces` (Number) Total number of active subinterfaces used as sources of the mirror derived from IPV4Filter associations.
- `num_active_v6_filter_subinterfaces` (Number) Total number of active subinterfaces used as sources of the mirror derived from IPV6Filter associations.
- `num_active_vlan_subinterfaces` (Number) Total number of active subinterfaces used as sources of the mirror derived from VLAN resource references.
- `number_active_bridge_interfaces` (Number) Total number of active subinterfaces used as sources of the mirror derived from BridgeInterface resource references.
- `operational_state` (String) Indicates the current operational state of the Mirror instance.
- `subinterfaces` (Attributes List) List of members in this Interface. (see [below for nested schema](#nestedatt--status--subinterfaces))

<a id="nestedatt--status--subinterfaces"></a>
### Nested Schema for `status.subinterfaces`

Read-Only:

- `configured_source` (String) Indicates what is driving the particular subinterface to be selected as a mirror source.
- `interface` (String) Node specific interface name.
- `node` (String) Reference to Node object.
- `operating_system` (String) Operating System of the Node.
- `subinterface_index` (Number) Index allocated to the subinterface which is being mirrored. If an interface is used as a source, this will not be set.
- `vlan_id` (String) vlan assigned to this subinterface.
